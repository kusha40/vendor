@model Vendor_Indusuno.ViewModels.ResetPasswordViewModel
@{
    ViewBag.Title = "Reset Password";
    Layout = "~/Views/Shared/_LayoutAdmLogin.cshtml";
}

<div class="login-box-body">
    <p class="login-box-msg"><strong>Welcome</strong>, Please Login</p>
    @using (Html.BeginForm("ResetPassword", "IUALogin", new { userId = ViewBag.userId, code = ViewBag.code }, FormMethod.Post, new { role = "form" }))
    {
        @Html.AntiForgeryToken()
        <div class="row">
            <div class="col-md-12">
                <div class="msgs">
                    @if (ViewData?.ModelState[""]?.Errors?.Any() == true)
                    {
                        <div class="alert alert-danger alert-dismissible">
                            <button type="button" class="close" data-dismiss="alert" aria-hidden="true">×</button>
                            <h4><i class="icon fa fa-ban"></i> Error!</h4>
                            @Html.ValidationSummary(true, "", new { @class = "float-left" })
                        </div>
                    }
                    @if (!String.IsNullOrEmpty(ViewBag.SucMsg))
                    {
                        <div class="alert alert-success alert-dismissible">
                            <button type="button" class="close" data-dismiss="alert" aria-hidden="true">×</button>
                            <h4><i class="icon fa fa-check"></i> Success!</h4>
                            <strong>Well done!</strong> @ViewBag.SucMsg <a href='@Url.Action("Index", "Home")'>Login</a>
                        </div>
                    }
                    @if (!String.IsNullOrEmpty(TempData["ErrMsg"] + ""))
                    {
                        <div class="alert alert-danger alert-dismissible">
                            <button type="button" class="close" data-dismiss="alert" aria-hidden="true">×</button>
                            <h4><i class="icon fa fa-ban"></i> Error!</h4>
                            <strong>Oh snap!</strong> @TempData["ErrMsg"]
                        </div>
                    }
                    @if (!String.IsNullOrEmpty(TempData["SucMsg"] + ""))
                    {
                        <div class="alert alert-success alert-dismissible">
                            <button type="button" class="close" data-dismiss="alert" aria-hidden="true">×</button>
                            <h4><i class="icon fa fa-check"></i> Success!</h4>
                            <strong>Well done!</strong> @TempData["SucMsg"] <a href='@Url.Action("Index", "Home")'>Login</a>
                        </div>
                    }
                </div>
            </div>
        </div>
        <div class="form-group has-feedback">
            @Html.PasswordFor(m => m.Password, new { @class = "form-control", maxlength = "14", minlength = "6", @placeholder = @Html.DisplayNameFor(m => m.Password) })
            <span class="glyphicon glyphicon-lock form-control-feedback"></span>
        </div>
        @Html.ValidationMessageFor(m => m.Password, "", new { @style = "color:#F44336" })
        <div class="form-group has-feedback">
            @Html.PasswordFor(m => m.ConfirmPassword, new { @class = "form-control", maxlength = "14", minlength = "6", @placeholder = @Html.DisplayNameFor(m => m.Password) })
            <span class="glyphicon glyphicon-lock form-control-feedback"></span>
        </div>
        @Html.ValidationMessageFor(model => model.ConfirmPassword, "", new { @style = "color:#F44336" })
        <div class="row">
            <!-- /.col -->
            <div class="col-xs-5">
                <button type="submit" class="btn bg-aqua btn-raised btn-block btn-flat">RESET</button>
            </div>
            <!-- /.col -->
        </div>
    }
</div>

